@startuml GET-RECLAIM Flow
title 3300-GET-RECLAIM Section Flow

start
:Set LK991-SECTION to '3300-GET-RECLAIM';
:Initialize CHP20-RECLAIM-MASTER;
:Move CHP01-USER-ROAD to CHP20-USER-ROAD;
:Move CHP05-RECLAIM-CODE to CHP20-RECLAIM-CODE;
:Move CHP05-RECLAIM-CODE-EXT to CHP20-RECLAIM-CODE-EXT;

:3300-20-READ-RECLAIM-MASTER;
:Move GL102-IO-READ-NEXT to LK101-IO-COMMAND;
:Perform 9300-DBIO;

if (NOT LK101-FS-STATUS-OK) then (yes)
  :Initialize CHP20-RECLAIM-MASTER;
  :Move SPACES to LK101-FILE-STATUS;
  :Go to SECTION-EXIT;
  stop
endif

if (CHP20-RECLAIM-CODE > CHP05-RECLAIM-CODE) then (yes)
  :Go to SECTION-EXIT;
  stop
endif

if (CHP20-RECLAIM-CODE = CHP05-RECLAIM-CODE AND\nCHP20-RECLAIM-CODE-EXT > CHP05-RECLAIM-CODE-EXT) then (yes)
  :Go to SECTION-EXIT;
  stop
endif

if (CHP20-EFFECTIVE-MONTH > CHP01-SERVICE-MONTH) then (yes)
  :Initialize CHP20-RECLAIM-MASTER;
  :Go to SECTION-EXIT;
  stop
endif

if (CHP20-EXPIRE-MONTH < CHP01-SERVICE-MONTH) then (yes)
  :Go to 3300-20-READ-RECLAIM-MASTER;
  note right: Loop back
else (no)
  :Continue to SECTION-EXIT;
endif

:SECTION-EXIT;
stop
@enduml
